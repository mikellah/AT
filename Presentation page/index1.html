<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
    <title> Android Things Project
    </title>
    <style>
        body,
        html {
            height: 100%;
            font-family: "Inconsolata", sans-serif;
        }
        
        .bgimg {
            background-position: center;
            background-size: cover;
            background-image: url("images/header.jpg");
            min-height: 50%;
        }
    </style>
</head>

<body>

    <!-- Top Menu -->
    <div class="top">
        <div class="row padding black">
            <div class="col s3">
                <a href="#overview" class="button block teal">Overview</a>
            </div>
            <div class="col s3">
                <a href="#schematics" class="button block teal">Schematics Plan</a>
            </div>
            <div class="col s3">
                <a href="#Pre-requisites" class="button block teal">Pre-requisites</a>
            </div>
            <div class="col s3">
                <a href="#setup" class="button block teal">Setup,Build Plan</a>
            </div>
            <div class="col s3">
                <a href="#video" class="button block teal">Video Presentation</a>
            </div>
        </div>
    </div>
    <!-- Header with image -->
    <header class="bgimg display-container grayscale-min" id="overview">
        <div class="display-bottomleft center padding-large hide-small">
            <span class="tag">Using <a href="https://opencv.org/">OpenCV</a></span>
        </div>
        <div class="display-middle center">
            <span class="text-black" style="font-size:90px">Smile<br>Detector</span>
        </div>
    </header>

    <!-- Background color -->
    <div class="sand large">

        <!-- Overview -->
        <div class="container" id="overview">
            <div class="content" style="max-width:700px">
                <h5 class="center padding-64"><span class="tag xlarge">About the project</span></h5>
                <p>Using Haar Cascades the program detects whether a person is smiling and if the result is positive, it will take a picture.</p>
            </div>
        </div>

        <!--Schematics Plan with Fritzing-->
        <div class="container" id="schematics">
            <div class="content" style="max-width:700px">
                <h5 class="center padding-64"><span class="tag xlarge">Schematics Plan with Fritzing</span></h5>
                <p>Since only 2 components are used, we have the following Fritzing schema showing a camera module connected to a Raspberry Pi 3 model B.</p>
                <img src="images/camera.png" style="width:300px;height:500px;">
            </div>
        </div>

        <!-- Pre-requisites -->
        <div class="container" id="Pre-requisites">
            <div class="content" style="max-width:700px">
                <h5 class="center padding-64"><span class="tag xlarge">Pre-requisites</span></h5>
                <p>For this project I have used the following components: </p>
                <ul>
                    <li>Raspberry Pi 3 model B+</li>
                    <li>USB camera</li>
                </ul>
                <img src="images/setup.jpg" style="width:500px;height:300px;">
                <p>It is not neccessary to have the same model of RPi. It will also work for a camera module.</p>
                <p>If there isn't one installed, a Python IDE is recommended.</p>
                <p>OpenCV can be downloaded
                    <a href=" https://sourceforge.net/projects/opencvlibrary/ ">here</a>
                </p>
            </div>
        </div>

        <!-- Setup and build plan -->
        <div class="container " id="setup">
            <div class="content " style="max-width:700px ">
                <h5 class="center padding-64 "><span class="tag xlarge ">Setup and Build Plan</span></h5>
                <p>First we take our RPi and enable the camera in the configurations.</p>
                <p> This can either be done by using
                    <i>sudo raspi-config</i> or enabling it in <i>Preferences</i></p>
                <p>
                    Once we have OpenCV installed and the camera working we can run the source code.</p>
                <p>The following is the code provided in the <i>classroom repository</i>.</p>
                <img src="images/code.jpg" style="width: 700px;height:600px;">
                <p>First we import the .XML files ; the cascades which will detect the structures of the face : frontal view of the face, eyes and the smile.</p>
                <p>
                    cascade_face = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')</p>
                <p> cascade_eye=cv2.CascadeClassifier( 'haarcascade_eye.xml')</p>
                <p> cascade_smile=cv2.CascadeClassifier( 'haarcascade_smile.xml') </p>
                <p>Next we make a function that will take each frame and turn it grayscale, then it goes through the process of detecting how many eyes there are in each frame and how many smiles.</p>
                <p>To help with this I had the number of eyes and smiles detected printed in the terminal.</p>
                <p>The lines that are commented are actually there to form rectangles that help with the position of what we are detecting. Since we are taking a picture of what is displayed, I decided to comment said rectangles but I have used them for
                    testing.
                </p>
                <p>
                    For each frame we have a list of eyes and smiles so I have used said list's size in such way that if it detects at least 2 'eyes' and 1 'smile' in the frame it will take a picture. I took into account the fact that for a 'selfie' we are supposed to have
                    our eyes open and to be smiling.
                </p>
                <p>
                    The <i>while</i> is there to loop the entire function. We can end the session by pressing either the 'Esc' button or 'q' on our keyboards.
                </p>
                <h5 class="center padding-64"><span class="tag xlarge "></span>Plan</h5>
                <p>
                    I would like to, if we have the chance, test it on other people at the laboratory. Especially on larger groups to see how well it can detect more than one smile and work on it to further improve accuracy.
                </p>
                </h6>
            </div>
        </div>

        <!-- Video Presentation-->
        <div class="container " id="video">
            <div class="content " style="max-width:700px ">
                <h5 class="center padding-64 "><span class="tag xlarge "> Video Presentation</span></h5>
                <p>Short video presentation : </p>
                <video width="640" height="360" controls>
                    <source src="video/AT.mp4" type="video/mp4">
                        </video>
                <p>
                    Special thanks to: </p>
                <ul>
                    <li><a href="https://linuxecke.volkoh.de/vokoscreen/vokoscreen.html">Vokoscreen</a> for helping me capture my RPi screen; </li>
                    <li><a href="http://www.videosoftdev.com/">VSDC</a> for helping me edit this video;</li>
                    <li><a href="https://soundcloud.com/ashamaluevmusic/sets/instrumental-background-music-for-videos">The song titled Fine</a> which made my video less boring and more enjoyable;</li>
                    <li>And last but not least, the multiple tutorials I have watched that helped me finish this project.</li>
                </ul>
            </div>
        </div>
</body>

</html>